-- Inserción de un usuario administrador
INSERT INTO usuario (nombre, apellido, email, password, rol)
VALUES ('Nicolás', 'Gómez', 'admin@instituto.com', 'admin123', 'Administrador');

-- Inserción de alumnos
INSERT INTO usuario (nombre, apellido, email, password, rol)
VALUES ('Lucía', 'Fernández', 'lucia@gmail.com', '1234', 'Alumno'),
       ('Pablo', 'Rivas', 'pablo@gmail.com', '1234', 'Alumno');

-- Inserción de cursos
INSERT INTO curso (nombre, descripcion, cupo)
VALUES ('Desarrollo Web', 'Curso de diseño y desarrollo de sitios web', 25),
       ('Java Básico', 'Introducción a la programación en Java', 20);

-- Inserción de inscripciones (alumnos a cursos)
INSERT INTO inscripcion (id_usuario, id_curso, fecha_inscripcion)
VALUES (2, 1, '2025-10-20'),
       (3, 2, '2025-10-21');

-- Inserción de pagos asociados a inscripciones
INSERT INTO pago (id_inscripcion, monto, fecha_pago, estado)
VALUES (1, 8000.00, '2025-10-22', 'confirmado'),
       (2, 7000.00, '2025-10-23', 'pendiente');

-- Inserción de asistencias
INSERT INTO asistencia (id_inscripcion, fecha, presente)
VALUES (1, '2025-10-22', TRUE),
       (1, '2025-10-23', FALSE),
       (2, '2025-10-23', TRUE);

-- Inserción de certificados
INSERT INTO certificado (id_inscripcion, fecha_emision, archivo)
VALUES (1, '2025-10-25', 'certificado_juanperez.pdf');

-- Consultar todos los usuarios
SELECT * FROM usuario;

-- Consultar los cursos disponibles
SELECT id, nombre, descripcion, cupo FROM curso;

-- Consultar inscripciones con nombres de usuario y curso
SELECT i.id AS id_inscripcion,
       u.nombre AS alumno,
       c.nombre AS curso,
       i.fecha_inscripcion
FROM inscripcion i
JOIN usuario u ON i.id_usuario = u.id
JOIN curso c ON i.id_curso = c.id;

-- Consultar pagos confirmados
SELECT p.id, u.nombre AS alumno, c.nombre AS curso, p.monto, p.estado
FROM pago p
JOIN inscripcion i ON p.id_inscripcion = i.id
JOIN usuario u ON i.id_usuario = u.id
JOIN curso c ON i.id_curso = c.id
WHERE p.estado = 'confirmado';

-- Consultar asistencias por alumno
SELECT u.nombre, c.nombre AS curso, a.fecha, a.presente
FROM asistencia a
JOIN inscripcion i ON a.id_inscripcion = i.id
JOIN usuario u ON i.id_usuario = u.id
JOIN curso c ON i.id_curso = c.id;

-- Consultar certificados emitidos
SELECT u.nombre AS alumno, c.nombre AS curso, ce.fecha_emision, ce.archivo
FROM certificado ce
JOIN inscripcion i ON ce.id_inscripcion = i.id
JOIN usuario u ON i.id_usuario = u.id
JOIN curso c ON i.id_curso = c.id;

-- Eliminar un pago específico
DELETE FROM pago WHERE id = 2;

-- Eliminar una inscripción (elimina también pagos, asistencias y certificados asociados)
DELETE FROM inscripcion WHERE id = 1;

-- Eliminar un curso (elimina todas las inscripciones asociadas)
DELETE FROM curso WHERE id = 1;

-- Eliminar un usuario (elimina todas sus inscripciones)
DELETE FROM usuario WHERE id = 3;







